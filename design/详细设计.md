# 存储设计

### 数据存储格式：

- json
- properties

### 存储内容：

- 用户名
- 用户创建时间
- 训练计划库
- 当前进行的训练计划
- 已完成的训练计划
- 已完成的训练动作个数

## 训练计划相关

分为两种：进行中的计划、历史记录

### 主计划库&个人计划库

先从库中的计划进行挑选，如果挑中了一个计划，则认为是Fork了一个计划到个人仓库，成为了我的计划。

个人计划库中，可以对计划改名和修改。

e.g.主库

存储路径：\resources\main

burpee 100.yaml

```
name: burpee 100
desc: 每做一组就休息
actions:
- name: burpee
  num: 20
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
- name: burpee
  num: 10
```





### 历史记录

用户每个训练计划的历时记录存储在json数组里，每次多进行一天，训练计划历史记录加入到该json中，即使当天没有登记，只要任何一天登记，都会刷新该天json训练历史。



### 字段

开始日期

结束日期

训练计划【引用】

# OPTIONS

--times
	设置计划执行的次数，默认365，因为没人能坚持一个计划连续锻炼一年。

# FLOW

## 开始一个训练项目

```
start burpee 100 --times 10
```

查看商店里有啥吸引我的训练计划？

```list store```

```
1. plan A
2. plan B
3. plan C
```

plan C看起来还不错，那我看看C里面到底有啥

```show 3```

```
id: abc
name: burpee test
desc: 每做一组就休息
actions:
- name: burpee
  num: 1
- name: burpee
  num: 2
```

看起来符合我的训练要求，那就开始吧

```start 3```

```
this is first time i can stay with you!
id: abc
status: live
first own date：2021年9月4日
start date: 2021年9月4日
end date: 2022年9月4日
you can call me : burpee test
actions:
	burpee x2
	burpee x1
```

好吧，burpee test 听起来也太无聊了，我一般都给我的训练动作起名为小猫🐱小狗🐕之类的……那先看看我现在有的计划吧

```list pocket```

```
1. burpee test
```

好吧，我决定给他起个……就叫宇宙无敌波比跳吧！

```rename 3 宇宙无敌波比跳```

```
hi, i am 宇宙无敌波比跳 now!
```

```list pocket```

```
1. 宇宙无敌波比跳
```

好吧，我已经开始了一个训练计划了，那我今天需要做哪些动作呢？

```now```

```
1. 宇宙无敌波比跳
	· burpee x2
	· burpee x1
```

好吧，那我做两个个波比跳试试？……好累呀~终于做完第一组！

```do 1```

```
现在进行的是……宇宙无敌波比跳！
从现在开始每输入一次回车或者空格，就相当于完成了下面的一组计划了哦！要退出挑战的话请输入任意字符！
	1. burpee x2
	2. burpee x1
```

``` ```

```
恭喜你又完成了一组！还剩下下面的哦，加油！
	2. burpee x1
```

``` ```

```
恭喜你！宇宙无敌波比跳今天已经全部做完啦！
```

其实也不用这么麻烦……我把今天的宇宙无敌波比跳一口气全部做完再来记录不行嘛……当然可以！

```done 1```

```
congratulations！you have done today 宇宙无敌波比跳!
```

如果有多个任务，想要全部完成再过来记录也可以呀！

```done all```

```
congratulations！you have done today task!
```

今天总共才做3个，感觉意犹未尽呀！那不得再做30个放松放松肌肉疲劳？

```done burpee 30```

```
good! you have done 33 burpee today!
```

不对呀，其实我今天是总共做了30个，不是额外做了30个……改正下……

```do burpee 30 total```

```
ok, you have done 33 burpee today!
```



